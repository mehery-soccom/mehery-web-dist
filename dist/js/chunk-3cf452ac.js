(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cf452ac"],{"58e5":function(t,e,a){},"6d46":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mx-auto px-4 h-full"},[a("div",{staticClass:"flex content-center items-center justify-center h-full"},[a("div",{staticClass:"w-full lg:w-4/12 px-4"},[a("div",{staticClass:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0"},[a("div",{staticClass:"rounded-t mb-0 px-6 py-6"},[t._m(0),a("div",{staticClass:"btn-wrapper text-center hidden"},[a("button",{staticClass:"bg-white active:bg-blueGray-50 text-blueGray-700 font-normal px-4 py-2 rounded outline-none focus:outline-none mr-2 mb-1 uppercase shadow hover:shadow-md inline-flex items-center font-bold text-xs ease-linear transition-all duration-150",attrs:{type:"button"}},[a("img",{staticClass:"w-5 mr-1",attrs:{alt:"...",src:t.github}}),t._v("\n              Github\n            ")]),a("button",{staticClass:"bg-white active:bg-blueGray-50 text-blueGray-700 font-normal px-4 py-2 rounded outline-none focus:outline-none mr-1 mb-1 uppercase shadow hover:shadow-md inline-flex items-center font-bold text-xs ease-linear transition-all duration-150",attrs:{type:"button"}},[a("img",{staticClass:"w-5 mr-1",attrs:{alt:"...",src:t.google}}),t._v("\n              Google\n            ")])]),t.domain?a("div",{staticClass:"btn-wrapper text-center"},[a("h6",{staticClass:"text-blueGray-500 text-sm"},[a("span",{staticClass:"text-emerald-600"},[t._v("https://")]),a("span",{staticClass:"text-blueGray-600  font-bold"},[t._v(t._s(t.domain))]),a("span",{staticClass:"text-blueGray-500  font-bold"},[t._v("."+t._s(t.$config.PROP_SERVICE_DOMAIN))])])]):t._e(),a("hr",{staticClass:"mt-6 border-b-1 border-blueGray-300"})]),a("div",{staticClass:"flex-auto px-4 lg:px-10 py-10 pt-0"},[t._m(1),a("validation-observer",{ref:"formValidator"},[t.domain?t.domain?a("form",[a("div",{staticClass:"relative w-full mb-3"},[a("validation-provider",{attrs:{rules:"required|emailz",vid:"login.username"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("label",{staticClass:"block uppercase text-blueGray-600 text-xs font-bold mb-2",attrs:{htmlFor:"grid-password"}},[t._v("\n                Email\n              ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.email,expression:"model.email"}],staticClass:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.model.email},on:{input:function(e){e.target.composing||t.$set(t.model,"email",e.target.value)}}}),n[0]?a("span",{staticClass:"text-red-500 text-sm"},[t._v("\n                      "+t._s(n[0])+"\n                ")]):t._e()]}}])})],1),a("div",{staticClass:"relative w-full mb-3"},[a("validation-provider",{attrs:{rules:"required",name:"Password",vid:"login.password"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("label",{staticClass:"block uppercase text-blueGray-600 text-xs font-bold mb-2",attrs:{htmlFor:"grid-password"}},[t._v("\n                  Password\n                ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],staticClass:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),n[0]?a("span",{staticClass:"text-red-500 text-sm"},[t._v("\n                      "+t._s(n[0])+"\n                ")]):t._e()]}}])})],1),a("div",[a("label",{staticClass:"inline-flex items-center cursor-pointer hidden"},[a("input",{staticClass:"form-checkbox border-0 rounded text-blueGray-700 ml-1 w-5 h-5 ease-linear transition-all duration-150",attrs:{id:"customCheckLogin",type:"checkbox"}}),a("span",{staticClass:"ml-2 text-sm font-semibold text-blueGray-600"},[t._v("\n                  Remember me\n                ")])])]),a("div",{staticClass:"text-center mt-6"},[a("button",{staticClass:"bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150",attrs:{type:"button"},on:{click:t.loginSubmit}},[t._v("\n                Sign In\n              ")])])]):t._e():a("form",{ref:"domainForm",attrs:{action:"https://app."+t.$config.PROP_SERVICE_DOMAIN+"/front/auth/login"}},[a("div",{staticClass:"relative w-full mb-3"},[a("label",{staticClass:"block uppercase text-blueGray-600 text-xs font-bold mb-2",attrs:{htmlFor:"grid-password"}},[t._v("\n                Enter your domain URL\n              ")]),a("div",{staticClass:"domain-box border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app,expression:"app"}],attrs:{name:"app",type:"hidden"},domProps:{value:t.app},on:{input:function(e){e.target.composing||(t.app=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.domainInput,expression:"domainInput"}],staticClass:"domain-input",style:{width:t.domainSize+"px"},attrs:{id:"domain",type:"text",autocomplete:"off",name:"domain",placeholder:t.domainPlaceholder},domProps:{value:t.domainInput},on:{input:function(e){e.target.composing||(t.domainInput=e.target.value)}}}),a("label",{staticClass:"font-bold",attrs:{for:"domain"}},[t._v("."+t._s(t.$config.PROP_SERVICE_DOMAIN))]),a("div",{staticClass:"domain-width-wrapper"},[a("div",{ref:"domainWidth",staticClass:"domain-width"},[a("div",[t._v(t._s(t.domainInput||t.domainPlaceholder))])])])])]),a("div",{staticClass:"text-center mt-6"},[a("button",{staticClass:"bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150",attrs:{type:"button"},on:{click:t.domainSubmit}},[t._v("\n                "+t._s(t.domainPreFilled?"Continue":"Submit")+"\n              ")])])])]),a("div",[a("form",{ref:"loginForm",attrs:{action:"https://"+t.model.domainName+"."+t.$config.PROP_SERVICE_DOMAIN+"/"+t.model.app+"/auth/direct",method:"POST"}},[a("input",{attrs:{name:"domainName",type:"hidden"},domProps:{value:t.model.domainName}}),a("input",{attrs:{name:"domainId",type:"hidden"},domProps:{value:t.model.domainId}}),a("input",{attrs:{name:"domainToken",type:"hidden"},domProps:{value:t.model.domainToken}}),a("input",{attrs:{name:"domainUser",type:"hidden"},domProps:{value:t.model.domainUser}})])])],1)]),t.domain?a("div",{staticClass:"flex flex-wrap mt-6 relative justify-center"},[a("div",{staticClass:"w-1/2 text-center"},[a("a",{staticClass:"text-blueGray-200",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.domain=""}}},[a("small",[t._v("Switch domain?")])])]),a("div",{staticClass:"w-1/2 text-right hidden",attrs:{hidden:""}},[a("router-link",{staticClass:"text-blueGray-200",attrs:{to:"/auth/register",hidden:""}},[a("small",[t._v("Forgot password?")])])],1)]):t._e()])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center mb-3"},[a("h6",{staticClass:"text-blueGray-500 text-sm font-bold"},[t._v("\n              Sign in to your domain\n            ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-blueGray-400 text-center mb-3 font-bold hidden"},[a("small",[t._v("Or sign in with credentials")])])}],o=(a("96cf"),a("3b8d")),s=a("e5a1"),r=a.n(s),l=a("f954"),d=a.n(l),m="",u={data:function(){return{github:r.a,google:d.a,domain:m,app:"agent",domainInput:"",domainPlaceholder:"yourdomain",domainWidth:0,model:{email:null,password:null,domainName:null,domainId:null,domainToken:null,domainUser:null}}},computed:{domainSize:function(){return Math.max(this.domainWidth||this.domainInput.length||this.domainPlaceholder.length,22)+1},domainPreFilled:function(){return this.$global.MyConst.appDomainId&&this.$global.MyConst.appDomain==this.domainInput}},watch:{"$route.query.app":function(t){this.updateTarget()},"$route.query.domain":function(t){this.updateTarget()}},mounted:function(){var t=this;this.updateTarget(),t.$nextTick((function(){t.getDomainWidth()}))},updated:function(){var t=this;t.$nextTick((function(){t.getDomainWidth()}))},methods:{updateTarget:function(){this.$global.MyConst.appDomainId&&(this.domainInput=this.$global.MyConst.appDomain),this.$route.query.app&&(this.app=this.$route.query.app),(this.$route.query.domain||this.$global.MyConst.tenant==this.$global.MyConst.appDomain&&"app"!=this.$global.MyConst.tenant)&&this.domainSubmit()},domainSubmit:function(){this.domainPreFilled?this.domain=this.domainInput:this.domainInput&&this.$refs.domainForm.submit()},loginSubmit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$service.submit("/user/pub/login?tnt="+this.domain,{username:this.model.email,password:this.model.password,app:this.app,domainId:this.$global.MyConst.appDomainId},{ref:this.$refs.formValidator,toast:!1});case 3:e=t.sent,this.model.app=e.data.app,this.model.domainName=e.data.domainName,this.model.domainId=e.data.domainId,this.model.domainToken=e.data.domainToken,this.model.domainUser=e.data.domainUser,a=this,this.model.domainToken&&setTimeout((function(){a.$refs.loginForm.submit()}),100),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](0);case 15:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}(),getDomainWidth:function(){this.domainWidth=this.$refs.domainWidth?this.$refs.domainWidth.clientWidth:0}}},p=u,c=(a("9fbc"),a("2877")),h=Object(c["a"])(p,n,i,!1,null,"6cc4c537",null);e["default"]=h.exports},"9fbc":function(t,e,a){"use strict";a("58e5")},e5a1:function(t,e,a){t.exports=a.p+"img/github.svg"},f954:function(t,e,a){t.exports=a.p+"img/google.svg"}}]);