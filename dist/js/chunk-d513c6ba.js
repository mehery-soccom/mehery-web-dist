(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d513c6ba"],{"0a49":function(t,e,n){var a=n("9b43"),s=n("626a"),i=n("4bf8"),r=n("9def"),o=n("cd1c");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,f=4==t,l=6==t,d=5==t||l,p=e||o;return function(e,o,h){for(var m,g,v=i(e),y=s(v),w=a(o,h,3),b=r(y.length),C=0,x=n?p(e,b):u?p(e,0):void 0;b>C;C++)if((d||C in y)&&(m=y[C],g=w(m,C,v),t))if(n)x[C]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return C;case 2:x.push(m)}else if(f)return!1;return l?-1:c||f?f:x}}},"0d0a":function(t,e,n){"use strict";n("28c5")},1169:function(t,e,n){var a=n("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},"1af6":function(t,e,n){var a=n("63b6");a(a.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var a=n("d9f6"),s=n("aebd");t.exports=function(t,e,n){e in t?a.f(t,e,s(0,n)):t[e]=n}},"28c5":function(t,e,n){},"2f21":function(t,e,n){"use strict";var a=n("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"4c93":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return h}));
/**
  * vee-validate v3.4.11
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */
var a=function(t,e){var n=(void 0===e?{}:e).multiple,a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n&&!Array.isArray(t)&&(t=String(t).split(",").map((function(t){return t.trim()}))),Array.isArray(t)?t.every((function(t){return a.test(String(t))})):a.test(String(t))},s=[{name:"multiple",default:!1}],i={validate:a,params:s};function r(t){return null===t||void 0===t}function o(t){return Array.isArray(t)&&0===t.length}var u=function(t,e){var n=e.regex;return Array.isArray(t)?t.every((function(t){return u(t,{regex:n})})):n.test(String(t))},c=[{name:"regex",cast:function(t){return"string"===typeof t?new RegExp(t):t}}],f={validate:u,params:c},l=function(t,e){var n=(void 0===e?{allowFalse:!0}:e).allowFalse,a={valid:!1,required:!0};return r(t)||o(t)?a:!1!==t||n?(a.valid=!!String(t).trim().length,a):a},d=!0,p=[{name:"allowFalse",default:!0}],h={validate:l,params:p,computesRequired:d}},"510c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("beautiful-chat",{attrs:{participants:t.participants,onMessageWasSent:t.onMessageWasSent,messageList:t.messageList,newMessagesCount:t.newMessagesCount,isOpen:t.isChatOpen,close:t.closeChat,open:t.openChat,showEmoji:!0,showFile:!1,showTypingIndicator:t.showTypingIndicator,showLauncher:!0,showCloseButton:!0,colors:t.colors,alwaysScrollToBottom:t.alwaysScrollToBottom,disableUserListToggle:!1,messageStyling:t.messageStyling},on:{onType:t.handleOnType,edit:t.editMessage},scopedSlots:t._u([{key:"header",fn:function(){return[t.header.titleImageUrl?n("img",{staticClass:"sc-header--img",attrs:{src:t.header.titleImageUrl,alt:""}}):t._e(),n("div",{staticClass:"sc-header--title"},[t._v(t._s(t.header.title))])]},proxy:!0},{key:"text-message-body",fn:function(e){var a=e.message,s=e.messageText,i=e.messageColors;return[n("p",{staticClass:"sc-message--text-content",domProps:{innerHTML:t._s(s)}}),t._l(a.data.attachments,(function(e){return a.data.attachments&&a.data.attachments.length>0?n("p",{staticClass:"sc-message--text-content"},["IMAGE"==e.mediaType?n("img",{attrs:{src:t._f("thumburl")(t._f("https")(e.mediaURL)),"data-full-src":t._f("https")(e.mediaURL)}}):n("a",{staticClass:"fa fa-file-alt float-right",attrs:{href:t._f("https")(e.mediaURL),target:"_blank"}},[n("small",[t._v(" "+t._s(e.mediaCaption||e.mediaType))])]),n("br")]):t._e()})),a.data.inputs&&a.data.inputs.length>0?n("ul",[n("li",[t._v(t._s(a.data.inputs[0].label))])]):t._e(),a.data.timestamp?n("p",{staticClass:"sc-message--meta",style:{color:i.color}},[t._v("\n        "+t._s(t._f("formatDate")(a.data.timestamp))+" \n        "),"I"==a.data.type?n("span",[a.id?n("i",{staticClass:"fas fa-check"}):n("i",{staticClass:"fas fa-sync fa-spin"})]):t._e()]):t._e()]}}])})],1)},s=[],i=(n("a481"),n("7514"),n("7f7f"),n("96cf"),n("3b8d")),r=n("a745"),o=n.n(r);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function c(t){if(o()(t))return u(t)}var f=n("67bb"),l=n.n(f),d=n("5d58"),p=n.n(d),h=n("774e"),m=n.n(h);function g(t){if("undefined"!==typeof l.a&&null!=t[p.a]||null!=t["@@iterator"])return m()(t)}function v(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?m()(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(t){return c(t)||g(t)||v(t)||y()}n("55dd");var b=n("a026"),C=n("e54b"),x=n.n(C),M=n("4c93"),A=n("3ef3");function S(t){return{author:"I"==t.type?"me":"support",type:"text",id:t.messageId,data:{type:t.type,text:t.text||t.message||"",template:t.template,meta:t.timestamp,timestamp:t.timestamp,attachments:t.attachments,file:t.attachments&&t.attachments[0]?{name:t.attachments[0].mediaCaption,url:A["a"].https_thumburl(t.attachments[0].mediaURL)}:null,inputs:t.options?t.options.inputs:null},suggestions:t.options&&t.options.buttons?t.options.buttons.map((function(t){return t.label})):null}}b["default"].use(x.a);var _={name:"app",data:function(){return{participants:[{id:"support",name:"Support",imageUrl:"https://avatars3.githubusercontent.com/u/1915989?s=230&v=4"}],header:{titleImageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png",title:"Support"},messageList:[],newMessagesCount:0,isChatOpen:!1,showTypingIndicator:"",colors:{header:{bg:"#4e8cff",text:"#ffffff"},launcher:{bg:"#4e8cff"},messageList:{bg:"#ffffff"},sentMessage:{bg:"#4e8cff",text:"#ffffff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#f4f7f9",text:"#565867"}},alwaysScrollToBottom:!0,messageStyling:!0,csid:null,form_input:null}},methods:{sendMessage:function(t){t.length>0&&(this.newMessagesCount=this.isChatOpen?this.newMessagesCount:this.newMessagesCount+1,this.onMessageWasSent({author:"support",type:"text",data:{text:t}}))},addMessage:function(t){this.messageList=[].concat(w(this.messageList),[t]).sort((function(t,e){return t.data.timestamp-e.data.timestamp}))},onMessageWasSentAsync:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.id=null,e.data.type="I",e.data.timestamp=Date.now(),this.addMessage(e),t.next=6,this.$service.post("/ext/inbound/web/callback",{message:e.data.text||e.data.emoji||"",from:this.csid,form:n});case 6:a=t.sent,s=S(a),e.id=s.id,e.data.timestamp=s.data.timestamp,e.data.attachments=s.data.attachments;case 11:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),onMessageWasSent:function(t){var e={};if(this.form_input){if("EMAIL"==this.form_input.type&&!M["a"].validate(t.data.text))return this.addMessage({type:"system",data:{text:"Invalid Input"}}),!1;e[this.form_input.name]=t.data.text,this.form_input=null}(t.data.text||t.data.emoji)&&this.onMessageWasSentAsync(t,e)},onMessageRecvd:function(t){this.form_input=t.data.inputs?t.data.inputs[0]:null,this.newMessagesCount=this.isChatOpen?this.newMessagesCount:this.newMessagesCount+1,this.addMessage(t)},openChat:function(){this.isChatOpen=!0,this.newMessagesCount=0,this.publishChatWindowStatus()},closeChat:function(){this.isChatOpen=!1,this.publishChatWindowStatus()},handleScrollToTop:function(){},handleOnType:function(){console.log("Emit typing event")},editMessage:function(t){var e=this.messageList.find((function(e){return e.id===t.id}));e.isEdited=!0,e.data.text=t.data.text},loadChats:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$service.get("../"+window.CONST.POSTMAN+"/ext/outbound/web/auth/v2",{number:this.csid});case 2:for(a in e=t.sent,console.log(e),n=e.results,n)this.addMessage(S(e.results[a]));this.pollMessage(),this.closeLoading();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),pollMessage:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$service.get("/ext/outbound/web/callback",{number:this.csid});case 3:e=t.sent,e&&this.onMessageRecvd(S(e));case 5:return t.prev=5,n=this,setTimeout((function(t){n.pollMessage()}),2e3),t.finish(5);case 9:case"end":return t.stop()}}),t,this,[[0,,5,9]])})));function e(){return t.apply(this,arguments)}return e}(),closeLoading:function(t){var e=document.getElementsByTagName("html")[0];e.className=e.className.replace(/\loading\b/g,"")},init:function(){var t=this;clearTimeout(this.fploader),this.fploader=setTimeout((function(){window.CONST.fp?(t.csid=window.CONST.fp+"00",t.loadChats()):t.init()}),1e3)},publishChatWindowStatus:function(){this.sendPostMessage({event:"ON_CHAT_TOGGLE",isChatOpen:this.isChatOpen})},onPostMessage:function(t){if(t&&t.data&&"string"==typeof t.data&&0==t.data.trim().indexOf("{")){var e=JSON.parse(t.data);if(e.myChatEvent){var n=e.myChatEvent;"CHAT_TOGGLE"==n.event&&(this.isChatOpen?this.closeChat():this.openChat())}}},sendPostMessage:function(t){var e=JSON.stringify({myChatEvent:t});window.parent.postMessage(e,"*")}},mounted:function(){this.$service.config("DISABLE_RESPONSE_INTERCEPTOR"),window.addEventListener?window.addEventListener("message",this.onPostMessage,!1):element.attachEvent&&window.attachEvent("onmessage",this.onPostMessage),this.init()},beforeDestroy:function(){window.addEventListener?window.removeEventListener("message",this.onPostMessage,!1):element.attachEvent&&window.removeEventListener("onmessage",this.onPostMessage)}},T=_,O=(n("0d0a"),n("2877")),E=Object(O["a"])(T,a,s,!1,null,null,null);e["default"]=E.exports},"549b":function(t,e,n){"use strict";var a=n("d864"),s=n("63b6"),i=n("241e"),r=n("b0dc"),o=n("3702"),u=n("b447"),c=n("20fd"),f=n("7cd6");s(s.S+s.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,s,l,d=i(t),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,y=f(d);if(g&&(m=a(m,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&o(y))for(e=u(d.length),n=new p(e);e>v;v++)c(n,v,g?m(d[v],v):d[v]);else for(l=y.call(d),n=new p;!(s=l.next()).done;v++)c(n,v,g?r(l,m,[s.value,v],!0):s.value);return n.length=v,n}})},"55dd":function(t,e,n){"use strict";var a=n("5ca1"),s=n("d8e8"),i=n("4bf8"),r=n("79e5"),o=[].sort,u=[1,2,3];a(a.P+a.F*(r((function(){u.sort(void 0)}))||!r((function(){u.sort(null)}))||!n("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(i(this)):o.call(i(this),s(t))}})},7514:function(t,e,n){"use strict";var a=n("5ca1"),s=n("0a49")(5),i="find",r=!0;i in[]&&Array(1)[i]((function(){r=!1})),a(a.P+a.F*r,"Array",{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"774e":function(t,e,n){t.exports=n("d2d5")},"7f7f":function(t,e,n){var a=n("86cc").f,s=Function.prototype,i=/^\s*function ([^ (]*)/,r="name";r in s||n("9e1e")&&a(s,r,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},a745:function(t,e,n){t.exports=n("f410")},cd1c:function(t,e,n){var a=n("e853");t.exports=function(t,e){return new(a(t))(e)}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},e853:function(t,e,n){var a=n("d3f4"),s=n("1169"),i=n("2b4c")("species");t.exports=function(t){var e;return s(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)||(e=void 0),a(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);