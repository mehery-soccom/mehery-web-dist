(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afe0c"],{"0fcc":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("page-title",{attrs:{heading:e.heading,subheading:e.subheading,icon:e.icon,actions:e.actions},on:{action:e.onAction}}),n("b-card",{staticClass:"main-card mb-4",attrs:{title:""}},[n("b-table",{attrs:{striped:!0,bordered:!0,outlined:!1,small:!0,hover:!0,dark:!1,fixed:!1,"foot-clone":!1,items:e.teams,fields:e.fields,"tbody-tr-class":e.rowClass},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return e.deleteReps(t.item,t.index,n.target)}}},[n("font-awesome-icon",{attrs:{icon:"trash",title:"Delete"}})],1),e._v("\n                   \n                  "),n("b-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.item.message,expression:"row.item.message"}],attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return e.editReps(t.item,t.index,n.target)}}},[n("font-awesome-icon",{attrs:{icon:"eye",title:"View"}})],1)]}}])})],1),e.newItem?n("b-modal",{attrs:{id:e.modelName,title:(e.newItem.id?"Edit":"Add")+" Quick Reply ",size:"xl"},on:{hidden:e.cancelReps},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"text-center form-group"},[n("button",{staticClass:"btn btn-warning",on:{click:e.cancelReps}},[e._v("Cancel")]),e._v("\n \n                        "),e.newItem.id?n("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.isChanged},on:{click:e.creatQuickReps}},[e._v("Update")]):e._e(),e._v("\n \n                        "),e.newItem.id?e._e():n("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.isChanged},on:{click:e.creatQuickReps}},[e._v("Create")])])]},proxy:!0}],null,!1,2638331502)},[n("ValidationObserver",{ref:"form"},[n("div",{staticClass:"position-relative form-group"},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("label",{attrs:{for:"examplePassword"}},[e._v("Category")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.category,expression:"newItem.category"}],staticClass:"form-control",attrs:{name:"category",id:"examplePassword",placeholder:"greeting",type:"text"},domProps:{value:e.newItem.category},on:{input:function(t){t.target.composing||e.$set(e.newItem,"category",t.target.value)}}}),n("span",{staticClass:"v-input-error"},[e._v(e._s(t.errors[0]))])]}}],null,!1,1801807966)})],1),n("div",{staticClass:"position-relative form-group"},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("label",{attrs:{for:"examplePassword"}},[e._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.title,expression:"newItem.title"}],staticClass:"form-control",attrs:{name:"agent_name",id:"examplePassword",placeholder:"Hello User",type:"text"},domProps:{value:e.newItem.title},on:{input:function(t){t.target.composing||e.$set(e.newItem,"title",t.target.value)}}}),n("span",{staticClass:"v-input-error"},[e._v(e._s(t.errors[0]))])]}}],null,!1,3637740269)})],1),n("div",{staticClass:"row"},[n("div",{staticClass:"position-relative form-group col-md-6"},[n("ValidationProvider",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("label",{attrs:{for:"examplePassword"}},[e._v("Template")]),n("text-complete",{attrs:{placeholder:"eg: Hello {{contact.name}}",rows:12,areaClass:"form-control",strategies:e.strategies},model:{value:e.newItem.template,callback:function(t){e.$set(e.newItem,"template",t)},expression:"newItem.template"}}),n("span",{staticClass:"v-input-error"},[e._v(e._s(t.errors[0]))])]}}],null,!1,2172186166)})],1),n("div",{staticClass:"position-relative form-group col-md-6"},[n("label",{attrs:{for:"examplePassword"}},[e._v("Template Preview")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.templatePreview,expression:"templatePreview"}],staticClass:"form-control",attrs:{name:"template",id:"examplePassword",rows:"10",readonly:"readonly",type:"text"},domProps:{value:e.templatePreview},on:{input:function(t){t.target.composing||(e.templatePreview=t.target.value)}}})])])])],1):e._e()],1)},r=[],s=(n("7f7f"),n("96cf"),n("3b8d")),i=(n("f559"),n("ac6a"),n("e492")),o=n("ecee"),l=n("c074"),c=n("ad3d"),m=n("9dbb"),u=n.n(m),p=n("3ef3"),d=n("34c6"),f=n.n(d);function h(){return{category:"",title:"",template:""}}o["c"].add(l["X"],l["W"],l["P"],l["C"]);var w={contact:{name:"John Doe",phone:"919876543210",email:"John.Doe@company.com"}},v=p["a"].keys(w),g={components:{PageTitle:i["a"],"font-awesome-icon":c["a"],TextComplete:f.a},data:function(){return{heading:"Quick Replies",subheading:"are prompt suggestion shown to Agent for Quick response.",icon:"pe-7s-browser icon-gradient bg-tempting-azure fa fa-reply-all",actions:[{label:"Add Quick Reply",icon:"plus",name:"ADD_ITEM"}],fields:[{key:"category",label:"Category"},{key:"title",label:"Title"},{key:"actions",label:"Actions"}],newItem:h(),sample:w,modelName:"MODAL_ADD_QUICK_REPLIES",strategies:[{match:/(^|\s)\{\{([a-z0-9+\-\_\.]*)$/,search:function(e,t){t(v.filter((function(t){return t.startsWith(e)})).slice(0,10))},template:function(e){return e},replace:function(e){return"$1{{"+e+"}} "}}]}},computed:{teams:function(e){var t=this;return(this.$store.getters.StateQReps||[]).map((function(e){return e.message=u.a.render(e.template||e.message||e.title||"",t.sample)||e.title,e}))},templatePreview:function(e){if(!this.newItem.template)return this.newItem.template;try{return u.a.render(this.newItem.template,this.sample)}catch(t){return this.newItem.template}},isChanged:function(e){return this.oldHash!==JSON.stringify(this.newItem)}},created:function(e){this.loadQReps()},methods:{loadQReps:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("GetQuickReps");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),creatQuickReps:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.form.validate();case 2:if(t=e.sent,!0!==t){e.next=9;break}return e.next=6,this.$store.dispatch("CreatQuickReps",this.newItem);case 6:this.newItem=h(),this.$refs.form.reset(),this.onAction({name:"CANCEL"});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteReps:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("DeleteQuickReps",t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancelReps:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.newItem=h(),this.onAction({name:"CANCEL"});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),editReps:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.newItem=h(),this.newItem.id=t.id,this.newItem.category=t.category,this.newItem.title=t.title,this.newItem.message=t.message,this.newItem.template=t.template,this.onAction({name:"EDIT_ITEM"});case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),rowClass:function(e,t){if(e&&"row"===t)return this.newItem.id==e.id?"table-success":void 0},onAction:function(e){switch(e.name){case"ADD_ITEM":this.oldHash=JSON.stringify(this.newItem),this.$bvModal.show(this.modelName),console.log("ADD_ITEM",e);break;case"EDIT_ITEM":this.oldHash=JSON.stringify(this.newItem),this.$bvModal.show(this.modelName),console.log("ADD_ITEM",e);break;case"CANCEL":this.$bvModal.hide(this.modelName);break;default:console.log("NoMapping",e)}}}},b=g,y=n("2877"),I=Object(y["a"])(b,a,r,!1,null,null,null);t["default"]=I.exports}}]);